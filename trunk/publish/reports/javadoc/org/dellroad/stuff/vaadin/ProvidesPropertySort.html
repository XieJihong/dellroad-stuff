<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Wed Nov 12 15:42:06 CST 2014 -->
<title>ProvidesPropertySort (Java Class Library API)</title>
<meta name="date" content="2014-11-12">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ProvidesPropertySort (Java Class Library API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ProvidesPropertySort.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/dellroad/stuff/vaadin/ProvidesPropertyScanner.html" title="class in org.dellroad.stuff.vaadin"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/dellroad/stuff/vaadin/QueryList.html" title="interface in org.dellroad.stuff.vaadin"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/dellroad/stuff/vaadin/ProvidesPropertySort.html" target="_top">Frames</a></li>
<li><a href="ProvidesPropertySort.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation_type_optional_element_summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#annotation_type_element_detail">Element</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.dellroad.stuff.vaadin</div>
<h2 title="Annotation Type ProvidesPropertySort" class="title">Annotation Type ProvidesPropertySort</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@Retention(value=RUNTIME)
@Target(value={METHOD,FIELD})
@Documented
public @interface <a href="../../../../src-html/org/dellroad/stuff/vaadin/ProvidesPropertySort.html#line.121">ProvidesPropertySort</a></pre>
<div class="block">Declares that a Java method provides either a <code>Comparable</code> value or a <code>Comparator</code> that
 should be used to determine property sort ordering in a Java class whose instances back the items in a
 <a href="http://vaadin.com/download/release/7.1/7.1.15/docs/api/com/vaadin/data/Container.html?is-external=true" title="class or interface in com.vaadin.data"><code>Container</code></a>.

 <p>
 <a href="../../../../org/dellroad/stuff/vaadin/ProvidesProperty.html" title="annotation in org.dellroad.stuff.vaadin"><code>&#64;ProvidesProperty</code></a> and <a href="../../../../org/dellroad/stuff/vaadin/ProvidesPropertySort.html" title="annotation in org.dellroad.stuff.vaadin"><code>&#64;ProvidesPropertySort</code></a> method annotations
 can be used to automatically generate a list of <a href="../../../../org/dellroad/stuff/vaadin/PropertyDef.html" title="class in org.dellroad.stuff.vaadin"><code>PropertyDef</code></a>s and a <a href="../../../../org/dellroad/stuff/vaadin/PropertyExtractor.html" title="interface in org.dellroad.stuff.vaadin"><code>PropertyExtractor</code></a> using a
 <a href="../../../../org/dellroad/stuff/vaadin/ProvidesPropertyScanner.html" title="class in org.dellroad.stuff.vaadin"><code>ProvidesPropertyScanner</code></a>. This happens automatically when using the appropriate constructors of the various
 <a href="http://vaadin.com/download/release/7.1/7.1.15/docs/api/com/vaadin/data/Container.html?is-external=true" title="class or interface in com.vaadin.data"><code>Container</code></a> classes in this package.
 </p>

 <p>
 This annotation is used in conjunction with the <a href="../../../../org/dellroad/stuff/vaadin/ProvidesProperty.html" title="annotation in org.dellroad.stuff.vaadin"><code>&#64;ProvidesProperty</code></a>
 annotation when the value returned by the <a href="../../../../org/dellroad/stuff/vaadin/ProvidesProperty.html" title="annotation in org.dellroad.stuff.vaadin"><code>&#64;ProvidesProperty</code></a>-annotated method is not
 <code>Comparable</code> or does not naturally sort as desired. By declaring a
 <a href="../../../../org/dellroad/stuff/vaadin/ProvidesPropertySort.html" title="annotation in org.dellroad.stuff.vaadin"><code>&#64;ProvidesPropertySort</code></a>-annotated method for a property, any arbitrary sorting
 function can be supplied.
 </p>

 <p>
 If the annotated method returns a <code>Comparator</code>, then the return value will be used to sort property values;
 otherwise, the annotated method must return a sub-type of <code>Comparable</code>, in which case the returned value determines how
 that instance's property value sorts (with <code>null</code> values sorting first). If the method returns neither a
 <code>Comparator</code> nor a <code>Comparable</code>, an exception is thrown during scanning.
 </p>

 <p>
 Here is a typical situation where <a href="../../../../org/dellroad/stuff/vaadin/ProvidesPropertySort.html" title="annotation in org.dellroad.stuff.vaadin"><code>&#64;ProvidesPropertySort</code></a> is needed: you have
 a <code>String</code> property containing a formatted <code>Date</code>, but the way the <code>Date</code>
 strings are formatted does not sort in chronological order. This will usually be the case unless your
 <code>Date</code> strings are formatted like <code>2013-03-12</code>, etc.
 </p>

 <p>
 To address this problem, define a <a href="../../../../org/dellroad/stuff/vaadin/ProvidesPropertySort.html" title="annotation in org.dellroad.stuff.vaadin"><code>&#64;ProvidesPropertySort</code></a>-annotated method that
 provides a properly sorting <code>Comparable</code> value corresponding to the associated property. For example:
 <blockquote><pre>
 // Container backing object class
 public class User {

     private Date birthday;

     <b>&#64;ProvidesPropertySort</b>             // property name "birthday" is implied by method name
     public Date getBirthday() {
         return this.birthday;
     }
     public void setBirthday(Date birthday) {
         this.birthday = birthday;
     }

     <b>&#64;ProvidesProperty("birthday")</b>     // the actual property value is returned here
     private Label birthdayProperty() {
         return new Label(new SimpleDateFormat("MM/dd/yyyy").format(this.birthday));
     }
 </pre></blockquote>
 </p>

 <p>
 Alternately, have the <a href="../../../../org/dellroad/stuff/vaadin/ProvidesPropertySort.html" title="annotation in org.dellroad.stuff.vaadin"><code>&#64;ProvidesPropertySort</code></a>-annotated method return
 a <code>Comparator</code>, for example, if you wanted to sort <code>null</code> values last instead of first:
 <blockquote><pre>
     <b>&#64;ProvidesPropertySort("birthday")</b>
     private static Comparator&lt;User&gt; birthdayComparator() {
         return new Comparator&lt;User&gt;(User user1, User user2) {
              final Date date1 = user1.getBirthday();
              final Date date2 = user2.getBirthday();
              if (date1 == null &amp;&amp; date2 != null)
                  return 1;
              if (date1 != null &amp;&amp; date2 == null)
                  return -1;
              if (date1 == null &amp;&amp; date2 == null)
                  return 0;
              return date1.compareTo(date2);
         };
     }
 </pre></blockquote>
 Note that the returned <code>Comparator</code> compares <i>backing instances</i>, not property values,
 and that methods returning <code>Comparator</code> may be declared <code>static</code>. The returned
 <code>Comparator</code> may be cached by the implementation.
 </p>

 <p>
 Some details regarding <a href="../../../../org/dellroad/stuff/vaadin/ProvidesPropertySort.html" title="annotation in org.dellroad.stuff.vaadin"><code>&#64;ProvidesPropertySort</code></a> annotations on methods:
  <ul>
  <li>Only non-void methods taking zero parameters are supported; <a href="../../../../org/dellroad/stuff/vaadin/ProvidesPropertySort.html" title="annotation in org.dellroad.stuff.vaadin"><code>&#64;ProvidesPropertySort</code></a>
      annotations on other methods are ignored</li>
  <li>Protected, package private, and private methods are supported.</li>
  <li><a href="../../../../org/dellroad/stuff/vaadin/ProvidesPropertySort.html" title="annotation in org.dellroad.stuff.vaadin"><code>&#64;ProvidesPropertySort</code></a> annotations on interface methods are supported</li>
  <li>If a method and the superclass or superinterface method it overrides are both annotated with
      <a href="../../../../org/dellroad/stuff/vaadin/ProvidesPropertySort.html" title="annotation in org.dellroad.stuff.vaadin"><code>&#64;ProvidesPropertySort</code></a>, then the overridding method's annotation takes precedence.
  <li>If two methods with different names are annotated with <a href="../../../../org/dellroad/stuff/vaadin/ProvidesPropertySort.html" title="annotation in org.dellroad.stuff.vaadin"><code>&#64;ProvidesPropertySort</code></a> for the same
      <a href="../../../../org/dellroad/stuff/vaadin/ProvidesPropertySort.html#value()">property name</a>, then the declaration in the class which is a sub-type of the other
      wins (if the two methods are delcared in the same class, an exception is thrown). This allows subclasses
      to "override" which method supplies the sort value for a given property.</li>
  </ul>
 </p></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/dellroad/stuff/vaadin/ProvidesProperty.html" title="annotation in org.dellroad.stuff.vaadin"><code>ProvidesProperty</code></a>, 
<a href="../../../../org/dellroad/stuff/vaadin/ProvidesPropertyScanner.html" title="class in org.dellroad.stuff.vaadin"><code>ProvidesPropertyScanner</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ANNOTATION TYPE OPTIONAL MEMBER SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation_type_optional_element_summary">
<!--   -->
</a>
<h3>Optional Element Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Optional Element Summary table, listing optional elements, and an explanation">
<caption><span>Optional Elements</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Optional Element and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/vaadin/ProvidesPropertySort.html#value()">value</a></strong></code>
<div class="block">Get the name of the Vaadin property.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation_type_element_detail">
<!--   -->
</a>
<h3>Element Detail</h3>
<a name="value()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>value</h4>
<pre>public abstract&nbsp;java.lang.String&nbsp;<a href="../../../../src-html/org/dellroad/stuff/vaadin/ProvidesPropertySort.html#line.127">value</a></pre>
<div class="block">Get the name of the Vaadin property. If this is left unset (empty string), then the
 bean property name of the annotated bean property "getter" method is used.</div>
<dl>
<dt>Default:</dt>
<dd>""</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ProvidesPropertySort.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/dellroad/stuff/vaadin/ProvidesPropertyScanner.html" title="class in org.dellroad.stuff.vaadin"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/dellroad/stuff/vaadin/QueryList.html" title="interface in org.dellroad.stuff.vaadin"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/dellroad/stuff/vaadin/ProvidesPropertySort.html" target="_top">Frames</a></li>
<li><a href="ProvidesPropertySort.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation_type_optional_element_summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#annotation_type_element_detail">Element</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
