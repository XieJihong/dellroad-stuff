<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_17) on Wed Oct 02 16:25:56 CDT 2013 -->
<title>ThreadLocalContext (Java Class Library API)</title>
<meta name="date" content="2013-10-02">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ThreadLocalContext (Java Class Library API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ThreadLocalContext.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/dellroad/stuff/spring/ThreadConfigurableObject.html" title="interface in org.dellroad.stuff.spring"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/dellroad/stuff/spring/ThreadTransactional.html" title="annotation in org.dellroad.stuff.spring"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/dellroad/stuff/spring/ThreadLocalContext.html" target="_top">Frames</a></li>
<li><a href="ThreadLocalContext.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.dellroad.stuff.spring</div>
<h2 title="Class ThreadLocalContext" class="title">Class ThreadLocalContext</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html?is-external=true" title="class or interface in java.lang">java.lang.ThreadLocal</a>&lt;T&gt;</li>
<li>
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/lang/InheritableThreadLocal.html?is-external=true" title="class or interface in java.lang">java.lang.InheritableThreadLocal</a>&lt;<a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html?is-external=true" title="class or interface in org.springframework.context">ConfigurableApplicationContext</a>&gt;</li>
<li>
<ul class="inheritance">
<li>org.dellroad.stuff.spring.ThreadLocalContext</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/beans/factory/Aware.html?is-external=true" title="class or interface in org.springframework.beans.factory">Aware</a>, <a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/beans/factory/DisposableBean.html?is-external=true" title="class or interface in org.springframework.beans.factory">DisposableBean</a>, <a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ApplicationContextAware.html?is-external=true" title="class or interface in org.springframework.context">ApplicationContextAware</a></dd>
</dl>
<hr>
<br>
<pre>public class <a href="../../../../src-html/org/dellroad/stuff/spring/ThreadLocalContext.html#line.41">ThreadLocalContext</a>
extends <a href="http://download.oracle.com/javase/6/docs/api/java/lang/InheritableThreadLocal.html?is-external=true" title="class or interface in java.lang">InheritableThreadLocal</a>&lt;<a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html?is-external=true" title="class or interface in org.springframework.context">ConfigurableApplicationContext</a>&gt;
implements <a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ApplicationContextAware.html?is-external=true" title="class or interface in org.springframework.context">ApplicationContextAware</a>, <a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/beans/factory/DisposableBean.html?is-external=true" title="class or interface in org.springframework.beans.factory">DisposableBean</a></pre>
<div class="block">Associates a <a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html?is-external=true" title="class or interface in org.springframework.context"><code>ConfigurableApplicationContext</code></a> with each thread. Child threads inherit their parents' value.

 <p>
 Typically used as a singleton to determine the application context for autowiring
 <a href="../../../../org/dellroad/stuff/spring/ThreadConfigurable.html" title="annotation in org.dellroad.stuff.spring"><code>@ThreadConfigurable</code></a> and <a href="../../../../org/dellroad/stuff/spring/ThreadTransactional.html" title="annotation in org.dellroad.stuff.spring"><code>@ThreadTransactional</code></a> beans.
 </p>

 <p>
 If an instance of this class is included in an application context, then that context will become the default value
 (by virtue of this class being <a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ApplicationContextAware.html?is-external=true" title="class or interface in org.springframework.context"><code>ApplicationContextAware</code></a>). That is, that application context will be returned by
 <a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html#get()"><code>ThreadLocalContext.get()</code></a> until another application context is explicitly set.
 Doing this for the singleton instance makes the including application context the default for all
 <a href="../../../../org/dellroad/stuff/spring/ThreadConfigurable.html" title="annotation in org.dellroad.stuff.spring"><code>@ThreadConfigurable</code></a>-annotated beans.
 </p>

 <p>
 For any instance, attempting to configure the default application context more than once (prior to
 <a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html#destroy()">bean disposal</a>) will generate an exception.
 </p></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/dellroad/stuff/spring/ThreadConfigurable.html" title="annotation in org.dellroad.stuff.spring"><code>ThreadConfigurable</code></a>, 
<a href="../../../../org/dellroad/stuff/spring/ThreadTransactional.html" title="annotation in org.dellroad.stuff.spring"><code>ThreadTransactional</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html#ThreadLocalContext()">ThreadLocalContext</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html#destroy()">destroy</a></strong>()</code>
<div class="block">Removes the default application context.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html?is-external=true" title="class or interface in org.springframework.context">ConfigurableApplicationContext</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html#get()">get</a></strong>()</code>
<div class="block">Overridden to add trace logging.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html" title="class in org.dellroad.stuff.spring">ThreadLocalContext</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html#getInstance()">getInstance</a></strong>()</code>
<div class="block">Get the singleton instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html?is-external=true" title="class or interface in org.springframework.context">ConfigurableApplicationContext</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html#initialValue()">initialValue</a></strong>()</code>
<div class="block">Returns the default application context configured by <a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html#setApplicationContext(org.springframework.context.ApplicationContext)"><code>setApplicationContext()</code></a>, if any.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html#invokeWith(org.springframework.context.ConfigurableApplicationContext, java.lang.Runnable)">invokeWith</a></strong>(<a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html?is-external=true" title="class or interface in org.springframework.context">ConfigurableApplicationContext</a>&nbsp;context,
                    <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a>&nbsp;action)</code>
<div class="block">Change the application context associated with the current thread, but only for the duration of the given action.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html#set(org.springframework.context.ConfigurableApplicationContext)">set</a></strong>(<a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html?is-external=true" title="class or interface in org.springframework.context">ConfigurableApplicationContext</a>&nbsp;context)</code>
<div class="block">Overridden to add trace logging.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html#setApplicationContext(org.springframework.context.ApplicationContext)">setApplicationContext</a></strong>(<a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ApplicationContext.html?is-external=true" title="class or interface in org.springframework.context">ApplicationContext</a>&nbsp;context)</code>
<div class="block">Configure the default application context.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html#setInstance(org.dellroad.stuff.spring.ThreadLocalContext)">setInstance</a></strong>(<a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html" title="class in org.dellroad.stuff.spring">ThreadLocalContext</a>&nbsp;alternate)</code>
<div class="block">Change the singleton <a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html" title="class in org.dellroad.stuff.spring"><code>ThreadLocalContext</code></a> instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html#wrap(java.lang.Runnable)">wrap</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a>&nbsp;action)</code>
<div class="block">Make the given action behave as if it were executing in the current thread's context.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.InheritableThreadLocal">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/6/docs/api/java/lang/InheritableThreadLocal.html?is-external=true" title="class or interface in java.lang">InheritableThreadLocal</a></h3>
<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/InheritableThreadLocal.html?is-external=true#childValue(T)" title="class or interface in java.lang">childValue</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.ThreadLocal">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html?is-external=true" title="class or interface in java.lang">ThreadLocal</a></h3>
<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html?is-external=true#remove()" title="class or interface in java.lang">remove</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ThreadLocalContext()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ThreadLocalContext</h4>
<pre>public&nbsp;<a href="../../../../src-html/org/dellroad/stuff/spring/ThreadLocalContext.html#line.41">ThreadLocalContext</a>()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html" title="class in org.dellroad.stuff.spring">ThreadLocalContext</a>&nbsp;<a href="../../../../src-html/org/dellroad/stuff/spring/ThreadLocalContext.html#line.53">getInstance</a>()</pre>
<div class="block">Get the singleton instance.</div>
</li>
</ul>
<a name="setInstance(org.dellroad.stuff.spring.ThreadLocalContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInstance</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../../src-html/org/dellroad/stuff/spring/ThreadLocalContext.html#line.66">setInstance</a>(<a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html" title="class in org.dellroad.stuff.spring">ThreadLocalContext</a>&nbsp;alternate)</pre>
<div class="block">Change the singleton <a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html" title="class in org.dellroad.stuff.spring"><code>ThreadLocalContext</code></a> instance.

 <p>
 This method is normally not needed. However, by changing the behavior of the singleton instance,
 any arbitrary criteria can be used to determine which application context is used to configure
 <a href="../../../../org/dellroad/stuff/spring/ThreadConfigurable.html" title="annotation in org.dellroad.stuff.spring"><code>@ThreadConfigurable</code></a>-annotated beans.
 </p></div>
</li>
</ul>
<a name="get()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;<a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html?is-external=true" title="class or interface in org.springframework.context">ConfigurableApplicationContext</a>&nbsp;<a href="../../../../src-html/org/dellroad/stuff/spring/ThreadLocalContext.html#line.76">get</a>()</pre>
<div class="block">Overridden to add trace logging.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html?is-external=true#get()" title="class or interface in java.lang">get</a></code>&nbsp;in class&nbsp;<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html?is-external=true" title="class or interface in java.lang">ThreadLocal</a>&lt;<a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html?is-external=true" title="class or interface in org.springframework.context">ConfigurableApplicationContext</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="set(org.springframework.context.ConfigurableApplicationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>set</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/dellroad/stuff/spring/ThreadLocalContext.html#line.87">set</a>(<a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html?is-external=true" title="class or interface in org.springframework.context">ConfigurableApplicationContext</a>&nbsp;context)</pre>
<div class="block">Overridden to add trace logging.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html?is-external=true#set(T)" title="class or interface in java.lang">set</a></code>&nbsp;in class&nbsp;<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html?is-external=true" title="class or interface in java.lang">ThreadLocal</a>&lt;<a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html?is-external=true" title="class or interface in org.springframework.context">ConfigurableApplicationContext</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="wrap(java.lang.Runnable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wrap</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a>&nbsp;<a href="../../../../src-html/org/dellroad/stuff/spring/ThreadLocalContext.html#line.111">wrap</a>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a>&nbsp;action)</pre>
<div class="block">Make the given action behave as if it were executing in the current thread's context.
 This method wraps <code>action</code> so that, only for the duration of <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true#run()" title="class or interface in java.lang"><code>action.run()</code></a>,
 the application context associated with the thread that invoked <a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html#wrap(java.lang.Runnable)"><code>wrap()</code></a> (i.e., the current thread)
 is the one associated with whatever thread happens to be invoking <code>action</code>. In other words, this creates a
 <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang"><code>Runnable</code></a> that executes <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true#run()" title="class or interface in java.lang"><code>action.run()</code></a> via <a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html#invokeWith(org.springframework.context.ConfigurableApplicationContext, java.lang.Runnable)"><code>invokeWith()</code></a> using
 this thread's context.

 <p>
 Use this method when you need to hand off a <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang"><code>Runnable</code></a> to some other code that may execute it
 in a separate thread you don't control (such as a thread in a thread pool) but where you need the
 the action to be associated with the current thread's application context.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>action</code> - action to be performed while associated with the current thread's context</dd>
<dt><span class="strong">Returns:</span></dt><dd>wrapper for <code>action</code> that ensures the current thread's context is associated during execution</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html#invokeWith(org.springframework.context.ConfigurableApplicationContext, java.lang.Runnable)"><code>invokeWith(org.springframework.context.ConfigurableApplicationContext, java.lang.Runnable)</code></a></dd></dl>
</li>
</ul>
<a name="invokeWith(org.springframework.context.ConfigurableApplicationContext, java.lang.Runnable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invokeWith</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/dellroad/stuff/spring/ThreadLocalContext.html#line.130">invokeWith</a>(<a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html?is-external=true" title="class or interface in org.springframework.context">ConfigurableApplicationContext</a>&nbsp;context,
              <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a>&nbsp;action)</pre>
<div class="block">Change the application context associated with the current thread, but only for the duration of the given action.
 When the action completes, whatever application context was previously associated with the current
 thread is restored.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - context to associate with the current thread for the duration of the <code>action</code></dd><dd><code>action</code> - action to be performed while associated with <code>context</code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html#wrap(java.lang.Runnable)"><code>wrap(java.lang.Runnable)</code></a></dd></dl>
</li>
</ul>
<a name="setApplicationContext(org.springframework.context.ApplicationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setApplicationContext</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/dellroad/stuff/spring/ThreadLocalContext.html#line.153">setApplicationContext</a>(<a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ApplicationContext.html?is-external=true" title="class or interface in org.springframework.context">ApplicationContext</a>&nbsp;context)</pre>
<div class="block">Configure the default application context. Automatically invoked when this instance
 is included in a application context.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ApplicationContextAware.html?is-external=true#setApplicationContext(org.springframework.context.ApplicationContext)" title="class or interface in org.springframework.context">setApplicationContext</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ApplicationContextAware.html?is-external=true" title="class or interface in org.springframework.context">ApplicationContextAware</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - default application context, or null to have no default</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the default application context is already configured</dd>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>context</code> is not a <a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html?is-external=true" title="class or interface in org.springframework.context"><code>ConfigurableApplicationContext</code></a></dd></dl>
</li>
</ul>
<a name="destroy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/dellroad/stuff/spring/ThreadLocalContext.html#line.172">destroy</a>()</pre>
<div class="block">Removes the default application context. Automatically invoked when an instance of this
 class is included in a application context that is shut down.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/beans/factory/DisposableBean.html?is-external=true#destroy()" title="class or interface in org.springframework.beans.factory">destroy</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/beans/factory/DisposableBean.html?is-external=true" title="class or interface in org.springframework.beans.factory">DisposableBean</a></code></dd>
</dl>
</li>
</ul>
<a name="initialValue()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>initialValue</h4>
<pre>protected&nbsp;<a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html?is-external=true" title="class or interface in org.springframework.context">ConfigurableApplicationContext</a>&nbsp;<a href="../../../../src-html/org/dellroad/stuff/spring/ThreadLocalContext.html#line.182">initialValue</a>()</pre>
<div class="block">Returns the default application context configured by <a href="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html#setApplicationContext(org.springframework.context.ApplicationContext)"><code>setApplicationContext()</code></a>, if any.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html?is-external=true#initialValue()" title="class or interface in java.lang">initialValue</a></code>&nbsp;in class&nbsp;<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html?is-external=true" title="class or interface in java.lang">ThreadLocal</a>&lt;<a href="http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html?is-external=true" title="class or interface in org.springframework.context">ConfigurableApplicationContext</a>&gt;</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ThreadLocalContext.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/dellroad/stuff/spring/ThreadConfigurableObject.html" title="interface in org.dellroad.stuff.spring"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/dellroad/stuff/spring/ThreadTransactional.html" title="annotation in org.dellroad.stuff.spring"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/dellroad/stuff/spring/ThreadLocalContext.html" target="_top">Frames</a></li>
<li><a href="ThreadLocalContext.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
